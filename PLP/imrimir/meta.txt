doesNotUnderstand: aMessage
	
	|variableName getterTemplate setterTemplate|
	
	getterTemplate := '{1}
							^ {1}.'.

	setterTemplate := '{1}: value
							{1} := value.'.

	(aMessage numArgs = 1) ifTrue: [
		variableName := (aMessage selector truncateTo: (aMessage size - 1)).
		self class addInstVarNamed: variableName.
		self class compile: (getterTemplate format: {variableName}).
		self class compile: (setterTemplate format: {variableName}).
		
		^ aMessage sendTo: self.
		].
	
	^ super doesNotUnderstand: aMessage.

named: className
	
	|c|
	c := self subclass: className asSymbol
	instanceVariableNames: ''
	classVariableNames: ''
	category: 'PLP'.
	
	^ c new.

tearDown

	self clearSubclasses.

clearSubclasses

	CodeGenerator subclasses do: [ :aSubclass | aSubclass removeFromSystem ].

test03AddsGetterAndSetterWhenReceivingUnknownUnaryMessage

	| aCircle |
	
	aCircle := CodeGenerator named: #Circle.
	aCircle radius: 10.
	
	self assert: (aCircle respondsTo: #radius:).
	self assert: (aCircle respondsTo: #radius).
	
	self assert: aCircle radius equals: 10.
	
	aCircle radius: 20.
	self assert: aCircle radius equals: 20.


Predicados: =, sort, msort, length, nth1, nth0, member, 
append, last, between, is_list, list_to_set, is_set, union, 
intersection, subset, subtract, select, delete, reverse,  
atom,  number, numlist, sumlist, flatten, help

Operaciones extra-lógicas: is, \=,  ==,  =:=, =\=, >, <, =<, 
>=, abs, max, min, gcd,  var,  nonvar, ground, trace, notrace

Metapredicados: bagof, setof, maplist, include, not, forall, 
assert, retract, listing

Métodos de colecciones: select:,  reject:,  collect:,  detect:,  
detect:ifNone:,  inject:into:,  fold:, add:, at:, at:put:, do:, 
keysAndValuesDo:, keysDo:, valuesAndCountsDo:, withAll:,
includes:, includesKey:

Clases útiles para metaprogramación: Object, Message, 
MessageSend, Behavior, Class, Metaclass, Method, Context

Métodos comunes para metaprogramación: doesNotUnderstand:, 
compile:, perform:, respondsTo:, sendTo:, value:, class, species, 
superclass, superclass:, isKindOf:, 
subclass:instanceVariableNames:classVariableNames:category:, 
allSubclasses, allSubclassesDo:, withAllSubclassesDo:, 
methodDictionary

 